                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 3.5.0 #9253 (Mar 24 2016) (Linux)
                                      4 ; This file was generated Tue Dec 12 21:28:03 2017
                                      5 ;--------------------------------------------------------
                                      6 	.module stm8s_itc_itc_getsoftwarepriority
                                      7 	.optsdcc -mstm8
                                      8 	
                                      9 ;--------------------------------------------------------
                                     10 ; Public variables in this module
                                     11 ;--------------------------------------------------------
                                     12 	.globl _assert_failed
                                     13 	.globl _ITC_GetSoftwarePriority
                                     14 ;--------------------------------------------------------
                                     15 ; ram data
                                     16 ;--------------------------------------------------------
                                     17 	.area DATA
                                     18 ;--------------------------------------------------------
                                     19 ; ram data
                                     20 ;--------------------------------------------------------
                                     21 	.area INITIALIZED
                                     22 ;--------------------------------------------------------
                                     23 ; absolute external ram data
                                     24 ;--------------------------------------------------------
                                     25 	.area DABS (ABS)
                                     26 ;--------------------------------------------------------
                                     27 ; global & static initialisations
                                     28 ;--------------------------------------------------------
                                     29 	.area HOME
                                     30 	.area GSINIT
                                     31 	.area GSFINAL
                                     32 	.area GSINIT
                                     33 ;--------------------------------------------------------
                                     34 ; Home
                                     35 ;--------------------------------------------------------
                                     36 	.area HOME
                                     37 	.area HOME
                                     38 ;--------------------------------------------------------
                                     39 ; code
                                     40 ;--------------------------------------------------------
                                     41 	.area CODE
                                     42 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 52: ITC_PriorityLevel_TypeDef ITC_GetSoftwarePriority(ITC_Irq_TypeDef IrqNum)
                                     43 ;	-----------------------------------------
                                     44 ;	 function ITC_GetSoftwarePriority
                                     45 ;	-----------------------------------------
      000000                         46 _ITC_GetSoftwarePriority:
      000000 52 05            [ 2]   47 	sub	sp, #5
                                     48 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 54: uint8_t Value = 0;
      000002 0F 05            [ 1]   49 	clr	(0x05, sp)
                                     50 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 58: assert_param(IS_ITC_IRQ_OK((uint8_t)IrqNum));
      000004 7B 08            [ 1]   51 	ld	a, (0x08, sp)
      000006 A1 18            [ 1]   52 	cp	a, #0x18
      000008 22 04            [ 1]   53 	jrugt	00136$
      00000A 4F               [ 1]   54 	clr	a
      00000B 95               [ 1]   55 	ld	xh, a
      00000C 20 03            [ 2]   56 	jra	00137$
      00000E                         57 00136$:
      00000E A6 01            [ 1]   58 	ld	a, #0x01
      000010 95               [ 1]   59 	ld	xh, a
      000011                         60 00137$:
      000011 9E               [ 1]   61 	ld	a, xh
      000012 4D               [ 1]   62 	tnz	a
      000013 27 19            [ 1]   63 	jreq	00127$
      000015 90 AEr00rDF      [ 2]   64 	ldw	y, #___str_0+0
      000019 89               [ 2]   65 	pushw	x
      00001A 4B 3A            [ 1]   66 	push	#0x3a
      00001C 4B 00            [ 1]   67 	push	#0x00
      00001E 4B 00            [ 1]   68 	push	#0x00
      000020 4B 00            [ 1]   69 	push	#0x00
      000022 90 89            [ 2]   70 	pushw	y
      000024 CDr00r00         [ 4]   71 	call	_assert_failed
      000027 5B 06            [ 2]   72 	addw	sp, #6
      000029 02               [ 1]   73 	rlwa	x
      00002A 84               [ 1]   74 	pop	a
      00002B 01               [ 1]   75 	rrwa	x
      00002C 5B 01            [ 2]   76 	addw	sp, #1
      00002E                         77 00127$:
                                     78 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 61: Mask = (uint8_t)(0x03U << (((uint8_t)IrqNum % 4U) * 2U));
      00002E 7B 08            [ 1]   79 	ld	a, (0x08, sp)
      000030 0F 02            [ 1]   80 	clr	(0x02, sp)
      000032 A4 03            [ 1]   81 	and	a, #0x03
      000034 97               [ 1]   82 	ld	xl, a
      000035 4F               [ 1]   83 	clr	a
      000036 9F               [ 1]   84 	ld	a, xl
      000037 48               [ 1]   85 	sll	a
      000038 6B 04            [ 1]   86 	ld	(0x04, sp), a
      00003A A6 03            [ 1]   87 	ld	a, #0x03
      00003C 88               [ 1]   88 	push	a
      00003D 7B 05            [ 1]   89 	ld	a, (0x05, sp)
      00003F 27 05            [ 1]   90 	jreq	00140$
      000041                         91 00139$:
      000041 08 01            [ 1]   92 	sll	(1, sp)
      000043 4A               [ 1]   93 	dec	a
      000044 26 FB            [ 1]   94 	jrne	00139$
      000046                         95 00140$:
      000046 84               [ 1]   96 	pop	a
      000047 6B 01            [ 1]   97 	ld	(0x01, sp), a
                                     98 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 63: switch (IrqNum)
      000049 9E               [ 1]   99 	ld	a, xh
      00004A 4D               [ 1]  100 	tnz	a
      00004B 27 03            [ 1]  101 	jreq	00141$
      00004D CCr00rCF         [ 2]  102 	jp	00123$
      000050                        103 00141$:
      000050 5F               [ 1]  104 	clrw	x
      000051 7B 08            [ 1]  105 	ld	a, (0x08, sp)
      000053 97               [ 1]  106 	ld	xl, a
      000054 58               [ 2]  107 	sllw	x
      000055 DEu00u59         [ 2]  108 	ldw	x, (#00142$, x)
      000058 FC               [ 2]  109 	jp	(x)
      000059                        110 00142$:
      000059r00r8B                  111 	.dw	#00101$
      00005Br00r8B                  112 	.dw	#00102$
      00005Dr00r8B                  113 	.dw	#00103$
      00005Fr00r8B                  114 	.dw	#00104$
      000061r00r95                  115 	.dw	#00105$
      000063r00r95                  116 	.dw	#00106$
      000065r00r95                  117 	.dw	#00107$
      000067r00r95                  118 	.dw	#00108$
      000069r00rCF                  119 	.dw	#00122$
      00006Br00rCF                  120 	.dw	#00122$
      00006Dr00r9F                  121 	.dw	#00109$
      00006Fr00r9F                  122 	.dw	#00110$
      000071r00rA9                  123 	.dw	#00111$
      000073r00rA9                  124 	.dw	#00112$
      000075r00rA9                  125 	.dw	#00113$
      000077r00rA9                  126 	.dw	#00114$
      000079r00rB3                  127 	.dw	#00115$
      00007Br00rB3                  128 	.dw	#00116$
      00007Dr00rB3                  129 	.dw	#00117$
      00007Fr00rB3                  130 	.dw	#00118$
      000081r00rCF                  131 	.dw	#00122$
      000083r00rCF                  132 	.dw	#00122$
      000085r00rBD                  133 	.dw	#00119$
      000087r00rBD                  134 	.dw	#00120$
      000089r00rC7                  135 	.dw	#00121$
                                    136 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 65: case ITC_IRQ_TLI: /* TLI software priority can be read but has no meaning */
      00008B                        137 00101$:
                                    138 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 66: case ITC_IRQ_AWU:
      00008B                        139 00102$:
                                    140 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 67: case ITC_IRQ_CLK:
      00008B                        141 00103$:
                                    142 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 68: case ITC_IRQ_PORTA:
      00008B                        143 00104$:
                                    144 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 69: Value = (uint8_t)(ITC->ISPR1 & Mask); /* Read software priority */
      00008B AE 7F 70         [ 2]  145 	ldw	x, #0x7f70
      00008E F6               [ 1]  146 	ld	a, (x)
      00008F 14 01            [ 1]  147 	and	a, (0x01, sp)
      000091 6B 05            [ 1]  148 	ld	(0x05, sp), a
                                    149 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 70: break;
      000093 20 3A            [ 2]  150 	jra	00123$
                                    151 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 72: case ITC_IRQ_PORTB:
      000095                        152 00105$:
                                    153 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 73: case ITC_IRQ_PORTC:
      000095                        154 00106$:
                                    155 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 74: case ITC_IRQ_PORTD:
      000095                        156 00107$:
                                    157 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 75: case ITC_IRQ_PORTE:
      000095                        158 00108$:
                                    159 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 76: Value = (uint8_t)(ITC->ISPR2 & Mask); /* Read software priority */
      000095 AE 7F 71         [ 2]  160 	ldw	x, #0x7f71
      000098 F6               [ 1]  161 	ld	a, (x)
      000099 14 01            [ 1]  162 	and	a, (0x01, sp)
      00009B 6B 05            [ 1]  163 	ld	(0x05, sp), a
                                    164 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 77: break;
      00009D 20 30            [ 2]  165 	jra	00123$
                                    166 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 86: case ITC_IRQ_SPI:
      00009F                        167 00109$:
                                    168 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 87: case ITC_IRQ_TIM1_OVF:
      00009F                        169 00110$:
                                    170 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 88: Value = (uint8_t)(ITC->ISPR3 & Mask); /* Read software priority */
      00009F AE 7F 72         [ 2]  171 	ldw	x, #0x7f72
      0000A2 F6               [ 1]  172 	ld	a, (x)
      0000A3 14 01            [ 1]  173 	and	a, (0x01, sp)
      0000A5 6B 05            [ 1]  174 	ld	(0x05, sp), a
                                    175 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 89: break;
      0000A7 20 26            [ 2]  176 	jra	00123$
                                    177 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 91: case ITC_IRQ_TIM1_CAPCOM:
      0000A9                        178 00111$:
                                    179 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 96: case ITC_IRQ_TIM2_OVF:
      0000A9                        180 00112$:
                                    181 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 97: case ITC_IRQ_TIM2_CAPCOM:
      0000A9                        182 00113$:
                                    183 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 99: case ITC_IRQ_TIM3_OVF:
      0000A9                        184 00114$:
                                    185 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 100: Value = (uint8_t)(ITC->ISPR4 & Mask); /* Read software priority */
      0000A9 AE 7F 73         [ 2]  186 	ldw	x, #0x7f73
      0000AC F6               [ 1]  187 	ld	a, (x)
      0000AD 14 01            [ 1]  188 	and	a, (0x01, sp)
      0000AF 6B 05            [ 1]  189 	ld	(0x05, sp), a
                                    190 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 101: break;
      0000B1 20 1C            [ 2]  191 	jra	00123$
                                    192 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 103: case ITC_IRQ_TIM3_CAPCOM:
      0000B3                        193 00115$:
                                    194 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 106: case ITC_IRQ_UART1_TX:
      0000B3                        195 00116$:
                                    196 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 107: case ITC_IRQ_UART1_RX:
      0000B3                        197 00117$:
                                    198 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 113: case ITC_IRQ_I2C:
      0000B3                        199 00118$:
                                    200 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 114: Value = (uint8_t)(ITC->ISPR5 & Mask); /* Read software priority */
      0000B3 AE 7F 74         [ 2]  201 	ldw	x, #0x7f74
      0000B6 F6               [ 1]  202 	ld	a, (x)
      0000B7 14 01            [ 1]  203 	and	a, (0x01, sp)
      0000B9 6B 05            [ 1]  204 	ld	(0x05, sp), a
                                    205 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 115: break;
      0000BB 20 12            [ 2]  206 	jra	00123$
                                    207 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 129: case ITC_IRQ_ADC1:
      0000BD                        208 00119$:
                                    209 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 134: case ITC_IRQ_TIM4_OVF:
      0000BD                        210 00120$:
                                    211 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 136: Value = (uint8_t)(ITC->ISPR6 & Mask); /* Read software priority */
      0000BD AE 7F 75         [ 2]  212 	ldw	x, #0x7f75
      0000C0 F6               [ 1]  213 	ld	a, (x)
      0000C1 14 01            [ 1]  214 	and	a, (0x01, sp)
      0000C3 6B 05            [ 1]  215 	ld	(0x05, sp), a
                                    216 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 137: break;
      0000C5 20 08            [ 2]  217 	jra	00123$
                                    218 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 139: case ITC_IRQ_EEPROM_EEC:
      0000C7                        219 00121$:
                                    220 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 140: Value = (uint8_t)(ITC->ISPR7 & Mask); /* Read software priority */
      0000C7 AE 7F 76         [ 2]  221 	ldw	x, #0x7f76
      0000CA F6               [ 1]  222 	ld	a, (x)
      0000CB 14 01            [ 1]  223 	and	a, (0x01, sp)
      0000CD 6B 05            [ 1]  224 	ld	(0x05, sp), a
                                    225 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 141: break;
                                    226 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 143: default:
                                    227 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 145: }
      0000CF                        228 00122$:
      0000CF                        229 00123$:
                                    230 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 147: Value >>= (uint8_t)(((uint8_t)IrqNum % 4u) * 2u);
      0000CF 7B 05            [ 1]  231 	ld	a, (0x05, sp)
      0000D1 88               [ 1]  232 	push	a
      0000D2 7B 05            [ 1]  233 	ld	a, (0x05, sp)
      0000D4 27 05            [ 1]  234 	jreq	00144$
      0000D6                        235 00143$:
      0000D6 04 01            [ 1]  236 	srl	(1, sp)
      0000D8 4A               [ 1]  237 	dec	a
      0000D9 26 FB            [ 1]  238 	jrne	00143$
      0000DB                        239 00144$:
      0000DB 84               [ 1]  240 	pop	a
                                    241 ;	/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driver/src/stm8s_itc.itc_getsoftwarepriority.c: 149: return((ITC_PriorityLevel_TypeDef)Value);
      0000DC 5B 05            [ 2]  242 	addw	sp, #5
      0000DE 81               [ 4]  243 	ret
                                    244 	.area CODE
      0000DF                        245 ___str_0:
      0000DF 2F 68 6F 6D 65 2F 67   246 	.ascii "/home/grytole/dev/git/stm8builder/stm8builder/stdperiph_driv"
             72 79 74 6F 6C 65 2F
             64 65 76 2F 67 69 74
             2F 73 74 6D 38 62 75
             69 6C 64 65 72 2F 73
             74 6D 38 62 75 69 6C
             64 65 72 2F 73 74 64
             70 65 72 69 70 68 5F
             64 72 69 76
      00011B 65 72 2F 73 72 63 2F   247 	.ascii "er/src/stm8s_itc.itc_getsoftwarepriority.c"
             73 74 6D 38 73 5F 69
             74 63 2E 69 74 63 5F
             67 65 74 73 6F 66 74
             77 61 72 65 70 72 69
             6F 72 69 74 79 2E 63
      000145 00                     248 	.db 0x00
                                    249 	.area INITIALIZER
                                    250 	.area CABS (ABS)
